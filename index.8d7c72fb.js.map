{"mappings":"YASA,IAAMA,GAAW,IACbC,GAAUD,IACRE,EAAaC,SAASC,uBAAuB,kBAC7CC,EAASC,MAAMC,KAAKL,GACtBM,EAAQ,GAEZC,OAAOC,SAAW,WAChB,IAAMC,EAAMR,SAASS,gBAAgBC,UAC/BC,EAAQb,EAAUU,EACxBV,EAAUU,EAEVN,EAAOU,SAAQ,SAACC,EAAgBC,GAC9BT,EAAMU,KAAKD,EAAIjB,EAAWA,GAC1BQ,EAAMS,KAAc,IAARH,EAEZ,IAAMK,EAAQd,EAAOY,GAEfG,EAAY,cAAuBC,OAATb,EAAMS,GAAG,OACnCK,EAAUd,EAAMS,GAAKM,KAAKC,IAAIxB,GAAY,IAAM,EAAI,EAE1DmB,EAAMM,aAAa,QAAS,cAAqCJ,OAAvBD,EAAU,eAAqBC,OAARC,G,KAIrEb,OAAOiB,SAAS,EAAG,GAGnB,IAAMC,EAAcxB,SAASyB,cAAc,gBACrCC,EAAQ1B,SAASyB,cAAc,UAErCD,EAAYG,iBAAiB,SAAS,SAAAC,GACpCJ,EAAYK,UAAUC,OAAO,UAC7BJ,EAAMK,OAASL,EAAMM,OAASN,EAAMO,O,IAItC3B,OAAO4B,QAAU,WACfV,EAAYK,UAAUM,SAAS,UAAYT,EAAMO,QAAUP,EAAMM,M,EAInE1B,OAAO8B,OAAS,WACdV,EAAMO,O","sources":["src/index.js"],"sourcesContent":["// 3D SCROLL\n\n// zSpacing - distance from card to text on z-axis\n// lastPos - all elements have animation on start position, when preload page\n// mainFrames - main parent element - frame;\n// delta - element`s last position with scroll, conditional value, use for animate frames on z-axios; delta become bigger or smaller - depends on scrolling(top or bottom)\n// -5.5 - swipe speed\n// i - indexCurrentElement\n\nconst zSpacing = -1000;\nlet lastPos = zSpacing / 5;\nconst mainFrames = document.getElementsByClassName('gallery__frame');\nconst frames = Array.from(mainFrames);\nlet zVals = [];\n\nwindow.onscroll = function () {\n  const top = document.documentElement.scrollTop;\n  const delta = lastPos - top;\n  lastPos = top;\n\n  frames.forEach((currentElement, i) => {\n    zVals.push(i * zSpacing + zSpacing);\n    zVals[i] += delta * -5.5;\n\n    const frame = frames[i];\n\n    const transform = `translateZ(${zVals[i]}px)`;\n    const opacity = zVals[i] < Math.abs(zSpacing) / 1.8 ? 1 : 0;\n\n    frame.setAttribute('style', `transform: ${transform}; opacity: ${opacity}`);\n  });\n};\n\nwindow.scrollTo(0, 1);\n\n// AUDIO\nconst soundButton = document.querySelector('.soundbutton');\nconst audio = document.querySelector('.audio');\n\nsoundButton.addEventListener('click', e => {\n  soundButton.classList.toggle('paused');\n  audio.paused ? audio.play() : audio.pause();\n});\n\n// when focusing on this an open page in the browser\nwindow.onfocus = function () {\n  soundButton.classList.contains('paused') ? audio.pause() : audio.play();\n};\n\n//when we open a new tab in the browser - the audio is turned off\nwindow.onblur = function () {\n  audio.pause();\n};\n"],"names":["$b8f9b7833fa37166$var$zSpacing","$b8f9b7833fa37166$var$lastPos","$b8f9b7833fa37166$var$mainFrames","document","getElementsByClassName","$b8f9b7833fa37166$var$frames","Array","from","$b8f9b7833fa37166$var$zVals","window","onscroll","top","documentElement","scrollTop","delta","forEach","currentElement","i","push","frame","transform","concat","opacity","Math","abs","setAttribute","scrollTo","$b8f9b7833fa37166$var$soundButton","querySelector","$b8f9b7833fa37166$var$audio","addEventListener","e","classList","toggle","paused","play","pause","onfocus","contains","onblur"],"version":3,"file":"index.8d7c72fb.js.map"}